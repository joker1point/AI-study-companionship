# 医院管理系统

## 项目简介
这是一个基于C语言开发的医院管理系统，采用多文件多函数的结构化编程方式。系统具有用户登录、患者管理、医生管理、药品管理、挂号管理和费用管理等功能。

## 系统功能

### 1. 用户管理
- 管理员登录（默认账号：admin，密码：admin123）
- 普通用户注册和登录

### 2. 患者管理
- 添加患者信息
- 修改患者信息
- 删除患者信息
- 查询患者信息
- 显示所有患者信息

### 3. 医生管理
- 添加医生信息
- 修改医生信息
- 删除医生信息
- 查询医生信息
- 显示所有医生信息

### 4. 药品管理
- 添加药品信息
- 修改药品信息
- 删除药品信息
- 查询药品信息
- 显示所有药品信息

### 5. 挂号管理
- 患者挂号
- 显示所有挂号记录

### 6. 费用管理
- 添加费用记录
- 查询费用记录
- 显示所有费用记录

### 7. 文件操作
- 数据保存到文件
- 数据从文件加载

## 项目结构

```
hospital_management_system/
├── hospital_management_system.h  # 头文件，包含结构体定义和函数声明
├── main.c                        # 主函数和界面菜单
├── login.c                       # 登录和注册功能
├── patient.c                     # 患者管理功能
├── doctor.c                      # 医生管理功能
├── medicine.c                    # 药品管理功能
├── registration.c                # 挂号管理功能
├── fee.c                         # 费用管理功能
├── file.c                        # 文件操作功能
├── test_hospital.c               # 单元测试文件
├── Makefile                      # 编译脚本
└── README.md                     # 项目说明文档
```

## 编译和运行

### 方法一：使用MinGW编译器

1. 安装MinGW编译器：
   - 下载地址：https://sourceforge.net/projects/mingw/
   - 安装时选择gcc编译器
   - 将MinGW的bin目录添加到系统环境变量PATH中

2. 编译程序：
   ```bash
   gcc -Wall -o hospital_management_system main.c login.c patient.c doctor.c medicine.c registration.c fee.c file.c
   ```

3. 运行程序：
   ```bash
   ./hospital_management_system.exe
   ```

### 方法二：使用Visual Studio

1. 打开Visual Studio，创建一个新的空项目

2. 将所有.c文件添加到项目中

3. 编译并运行项目

### 方法三：使用Makefile（需要安装MinGW或Cygwin）

1. 编译程序：
   ```bash
   make
   ```

2. 运行程序：
   ```bash
   make run
   ```

3. 运行单元测试：
   ```bash
   make run_test
   ```

## 使用说明

1. 启动程序后，进入登录界面
2. 管理员可以使用默认账号登录：
   - 用户名：admin
   - 密码：admin123
3. 普通用户可以先注册，然后登录
4. 登录后根据角色进入相应的菜单
5. 按照菜单提示进行操作
6. 退出系统时，数据会自动保存到文件中

## 数据文件

系统会在当前目录下生成以下数据文件：
- `patients.txt`：患者数据
- `doctors.txt`：医生数据
- `medicines.txt`：药品数据
- `registrations.txt`：挂号记录
- `fees.txt`：费用记录
- `users.txt`：普通用户数据

## 单元测试

项目包含单元测试文件`test_hospital.c`，可以测试系统的各个功能模块。运行测试：

```bash
make run_test
```

## 课程设计要求

本项目符合以下课程设计要求：

1. ✅ 只能使用C语言
2. ✅ 采用多文件多函数编程方式
3. ✅ 有用户界面（文本菜单）
4. ✅ 使用文件保存数据
5. ✅ 代码有适当的注释
6. ✅ 实现了指定的功能

## 扩展功能

可以考虑添加以下扩展功能：
1. 患者预约管理
2. 医生排班管理
3. 药品库存预警
4. 费用统计和报表生成
5. 图形用户界面（GUI）

## 注意事项

1. 确保编译环境已正确安装
2. 第一次运行时，数据文件会自动创建
3. 管理员账号不可修改或删除
4. 输入数据时请注意格式要求
5. 程序退出时会自动保存数据

## 调试说明

如果遇到编译错误或运行时错误，请检查：
1. 编译器是否正确安装
2. 头文件和源文件是否在同一目录
3. 数据文件的读写权限
4. 输入数据的格式是否正确

## 作者信息

- 项目作者：[你的姓名]
- 学号：[你的学号]
- 课程：程序设计
- 日期：2025-12-16
